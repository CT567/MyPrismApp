<Window x:Class="PrismDemo.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:prism="http://prismlibrary.com/"
        xmlns:local="clr-namespace:PrismDemo.Views"
        Title="Prism上位机框架" Height="1000" Width="1400">


    <!-- 按照 Prism 习惯，这里不直接设 DataContext，而是用 ViewModelLocator 自动关联 -->
    <!-- 资源：椭圆形按钮样式 -->
    <Window.Resources>
        <Style x:Key="RoundedButtonStyle" TargetType="Button">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border 
                        x:Name="border"
                        CornerRadius="20"
                        Background="#4A90E2"
                        BorderThickness="1"
                        BorderBrush="#3A80D2">
                            <ContentPresenter 
                            HorizontalAlignment="Center" 
                            VerticalAlignment="Center"
                            TextElement.Foreground="White"
                            TextElement.FontSize="14"
                            TextElement.FontWeight="SemiBold"/>
                        </Border>

                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#5A9AE2"/>
                                <Setter TargetName="border" Property="BorderBrush" Value="#4A8AD2"/>
                                <Setter TargetName="border" Property="Effect">
                                    <Setter.Value>
                                        <DropShadowEffect BlurRadius="5" Color="#888" Opacity="0.5"/>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#3A80D2"/>
                                <Setter TargetName="border" Property="BorderBrush" Value="#2A70C2"/>
                                <Setter TargetName="border" Property="Effect">
                                    <Setter.Value>
                                        <DropShadowEffect BlurRadius="3" Color="#888" Opacity="0.3"/>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="border" Property="Background" Value="#CCCCCC"/>
                                <Setter TargetName="border" Property="BorderBrush" Value="#BBBBBB"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <Grid Margin="10,10,5,5">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="353*"/>
            <ColumnDefinition Width="1032*"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="30"/>
        </Grid.RowDefinitions>

        <!-- 1. 顶部导航栏 -->
        <Border Grid.Row="0" CornerRadius="8" Padding="5" Margin="0,0,0,22" Grid.ColumnSpan="2">
            <Border.Background>
                <!-- 更炫的彩色渐变背景（均匀分布） -->
                <LinearGradientBrush x:Name="FlowBrush" StartPoint="0,0" EndPoint="1,0" MappingMode="RelativeToBoundingBox" SpreadMethod="Repeat">
                    <GradientStop Color="AliceBlue" Offset="0.0"/>
                    <GradientStop Color="DeepSkyBlue" Offset="0.25"/>
                    <GradientStop Color="AliceBlue" Offset="0.5"/>
                    <GradientStop Color="DeepSkyBlue" Offset="0.75"/>
                    <GradientStop Color="AliceBlue" Offset="1.0"/>
                    <LinearGradientBrush.RelativeTransform>
                        <TranslateTransform X="0" Y="0"/>
                    </LinearGradientBrush.RelativeTransform>
                </LinearGradientBrush>
            </Border.Background>


            <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Disabled">
                <StackPanel Orientation="Horizontal">
                    <!-- 保留你的按钮 -->
                    <Button Command="{Binding NavigateCommand}" CommandParameter="RunView"
                    Width="100" Height="40" Margin="0,0,8,0"
                    Style="{StaticResource RoundedButtonStyle}">
                        运行界面
                    </Button>

                    <Button Command="{Binding NavigateCommand}" CommandParameter="CameraView"
                    Width="100" Height="40" Margin="0,0,8,0"
                    Style="{StaticResource RoundedButtonStyle}">
                        相机设置
                    </Button>

                    <Button Command="{Binding NavigateCommand}" CommandParameter="MotionView"
                    Width="100" Height="40" Margin="0,0,8,0"
                    Style="{StaticResource RoundedButtonStyle}">
                        运动调试
                    </Button>

                    <Button Command="{Binding NavigateCommand}" CommandParameter="ParameterView"
                    Width="100" Height="40" Margin="0,0,8,0"
                    Style="{StaticResource RoundedButtonStyle}">
                        XX界面
                    </Button>

                    <Button Command="{Binding NavigateCommand}" CommandParameter="CalibrationView"
                    Width="100" Height="40" Margin="0,0,8,0"
                    Style="{StaticResource RoundedButtonStyle}">
                        XX界面
                    </Button>

                    <Button Command="{Binding NavigateCommand}" CommandParameter="AnalysisView"
                    Width="100" Height="40" Margin="0,0,8,0"
                    Style="{StaticResource RoundedButtonStyle}">
                        XX界面
                    </Button>

                    <Button Command="{Binding NavigateCommand}" CommandParameter="LogView"
                    Width="100" Height="40" Margin="0,0,8,0"
                    Style="{StaticResource RoundedButtonStyle}">
                        日志记录
                    </Button>

                    <Button Command="{Binding NavigateCommand}" CommandParameter="SystemView"
                    Width="100" Height="40"
                    Style="{StaticResource RoundedButtonStyle}">
                        系统设置
                    </Button>
                </StackPanel>
            </ScrollViewer>

            <!-- 背景流动动画 -->
            <Border.Triggers>
                <EventTrigger RoutedEvent="Border.Loaded">
                    <BeginStoryboard>
                        <Storyboard RepeatBehavior="Forever">
                            <!-- 动态平移整个渐变，实现流动感 -->
                            <DoubleAnimation
                        Storyboard.TargetName="FlowBrush"
                        Storyboard.TargetProperty="RelativeTransform.(TranslateTransform.X)"
                        From="0" To="1"
                        Duration="0:0:8"
                        RepeatBehavior="Forever"/>
                        </Storyboard>
                    </BeginStoryboard>
                </EventTrigger>
            </Border.Triggers>
        </Border>


        <!-- 2. 中间动态容器栏 + 实时消息栏 -->
        <Grid Grid.Row="1" Grid.ColumnSpan="2" Margin="0,0,0,30">
            <Grid.RowDefinitions>
                <RowDefinition Height="8.5*"/>
                <!-- 动态容器栏 (80%) -->
                <RowDefinition Height="1.5*"/>
                <!-- 实时消息栏 (20%) -->
            </Grid.RowDefinitions>

            <!-- 中间动态容器 -->
            <Border Grid.Row="0" BorderBrush="Black" BorderThickness="1" CornerRadius="5" Margin="0,0,0,5">
                <ContentControl prism:RegionManager.RegionName="MainRegion"/>
            </Border>

            <!-- 3.实时消息栏 -->
            <Border Grid.Row="1" BorderBrush="Black" BorderThickness="1" CornerRadius="5" Background="White">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <ItemsControl ItemsSource="{Binding RealTimeMessages}">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding}" FontSize="12" Margin="5"/>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </ScrollViewer>
            </Border>
        </Grid>


        <!-- 4. 底部状态栏 -->
        <Border Grid.Row="2" BorderBrush="#CCC" BorderThickness="1" CornerRadius="5">
            <UniformGrid Columns="5">

                <!-- 相机状态按钮 -->
                <Button Command="{Binding ShowSystemStatusCommand}" Background="#4A90E2" BorderBrush="#666" BorderThickness="1" Margin="2">
                    <StackPanel>
                        <TextBlock Text="XX状态" Foreground="White" FontWeight="Bold" HorizontalAlignment="Center"/>
                        <TextBlock Text="{Binding StatusMessage}" Foreground="White" HorizontalAlignment="Center"/>
                    </StackPanel>
                </Button>

                <!-- 雷塞卡状态按钮 -->
                <Button Command="{Binding ShowSystemStatusCommand}" Background="#4A90E2" BorderBrush="#666" BorderThickness="1" Margin="2">
                    <StackPanel>
                        <TextBlock Text="XX状态" Foreground="White" FontWeight="Bold" HorizontalAlignment="Center"/>
                        <TextBlock Text="{Binding StatusMessage}" Foreground="White" HorizontalAlignment="Center"/>
                    </StackPanel>
                </Button>

                <!-- 温度按钮 -->
                <Button Command="{Binding ShowSystemStatusCommand}" Background="#4A90E2" BorderBrush="#666" BorderThickness="1" Margin="2">
                    <StackPanel>
                        <TextBlock Text="XX状态" Foreground="White" FontWeight="Bold" HorizontalAlignment="Center"/>
                        <TextBlock Text="{Binding StatusMessage}" Foreground="White" HorizontalAlignment="Center"/>
                    </StackPanel>
                </Button>

                <Button Command="{Binding ShowSystemStatusCommand}" Background="#4A90E2" BorderBrush="#666" BorderThickness="1" Margin="2">
                    <StackPanel>
                        <TextBlock Text="XX状态" Foreground="White" FontWeight="Bold" HorizontalAlignment="Center"/>
                        <TextBlock Text="{Binding StatusMessage}" Foreground="White" HorizontalAlignment="Center"/>
                    </StackPanel>
                </Button>

                <!-- 系统状态按钮 -->
                <Button Command="{Binding ShowSystemStatusCommand}" Background="#4A90E2" BorderBrush="#666" BorderThickness="1" Margin="2">
                    <StackPanel>
                        <TextBlock Text="XX状态" Foreground="White" FontWeight="Bold" HorizontalAlignment="Center"/>
                        <TextBlock Text="{Binding StatusMessage}" Foreground="White" HorizontalAlignment="Center"/>
                    </StackPanel>
                </Button>

            </UniformGrid>
        </Border>



    </Grid>

</Window>
